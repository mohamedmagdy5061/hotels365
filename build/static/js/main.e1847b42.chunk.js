(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(55)},24:function(e,t,a){},26:function(e,t,a){},28:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(15),c=a.n(r),o=(a(24),a(2)),s=a(3),l=a(5),m=a(4),u=a(6);a(26),a(28);var h=function(e){return i.a.createElement("div",{className:"cardView"},e.data.map(function(t){return i.a.createElement("div",{key:t.id,className:"card",onClick:function(){return e.clicked(t.id)}},i.a.createElement("div",{className:"card__title"},i.a.createElement("p",null,t.name)),i.a.createElement("div",{className:"card__body"},i.a.createElement("div",{className:"card__image"},i.a.createElement("img",{style:{width:"100%"},src:t.photo,alt:"Img-hotel"})),i.a.createElement("div",{className:"card__info"},i.a.createElement("div",{className:"card__info__price"},"$".concat(t.pricePerNight*e.night," for ").concat(e.night,"  ").concat(e.night>1?"Nights":"Night"," ")),i.a.createElement("div",{className:"card__info__rate"},(a=t.totalScore,"".concat(a,a<=7?" good":a>7&&a<9?" Very good":" Excellent"))),i.a.createElement("div",{className:"card__info__review"},"".concat(t.totalReviews," reviews")))));var a}))},d=a(17),p=(a(30),a(32),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={counter:0,min:0,max:0,data:[]},a.countUp=function(){var e=a.state.max;a.setState(function(t){var a=t.counter;if(a<e-1)return{counter:a+1}})},a.countDown=function(){var e=a.state.min;a.setState(function(t){var a=t.counter;if(a>e)return{counter:a-1}})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({max:this.props.photos.length})}},{key:"render",value:function(){var e=this,t=this.state,a=t.counter,n=t.max;return i.a.createElement("div",null,i.a.createElement("div",{className:"slide__photo__big"},i.a.createElement("img",{src:this.props.photos["".concat(a)].photo,alt:"hotel-img"})),i.a.createElement("div",{className:"slide__photo__thumbnail slider-active-".concat(a)},i.a.createElement("div",{className:"slider-wraper",style:{transform:"translateX(-".concat(a*(100/this.state.max),"%)")}},this.props.photos.map(function(e,t){return i.a.createElement("img",{id:"card-".concat(t),className:"slider__img",src:e.thumbnail,alt:"hotel-img"})}))),i.a.createElement("div",{className:"slide__photo__range"},i.a.createElement("button",{className:"slide__photo__range__btn",disabled:a<=0,onClick:this.countDown},"\xab"),i.a.createElement("input",{type:"range",min:0,max:this.props.photos.length,onChange:function(){e.handelRange(e)},value:a===n-1?a+1:a}),i.a.createElement("button",{className:"slide__photo__range__btn",disabled:a>=n-1,onClick:this.countUp},"\xbb")))}}]),t}(n.Component)),v=a(16),g=(a(34),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={counter:0,min:0,max:0,data:[],pageView:[],numberNeedToShow:3,numberOfPages:"",sorted:!1},a.getNumberOfPages=function(){var e=Math.ceil(a.props.reviews.length/3);a.setState({numberOfPages:e})},a.range=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,i=[];n<=t;)i.push(n),n+=a;return i},a.listView=function(e){var t=a.state,n=t.data,i=t.numberNeedToShow,r=e*i+i,c=Object(v.a)(n).slice(i*e,r>=n.length?n.length:r);a.setState({pageView:c,sorted:!1})},a.sortReviewDown=function(e){var t=a.state.pageView;(t>0?t:a.props.reviews).sort(function(t,a){return t=t.score,a=a.score,"up"===e?t>a?-1:t<a?1:0:t<a?-1:t>a?1:0}),a.props.reviews.map(function(e,t){return e._index=t,e}),a.setState({pageView:t,sorted:!0})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({max:this.props.reviews.length}),this.setState({data:this.props.reviews}),this.getNumberOfPages()}},{key:"render",value:function(){var e=this,t=this.state,a=t.numberOfPages,n=t.pageView,r=t.numberNeedToShow;return i.a.createElement("div",{className:"review"},i.a.createElement("h2",{className:"review-action-sort"},"Reviews",i.a.createElement("span",{className:"review-action-sort-down",onClick:this.sortReviewDown.bind(null,"up")},i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("span",{className:"review-action-sort-up",onClick:this.sortReviewDown.bind(null,"down")},i.a.createElement("i",{className:"fas fa-angle-up"}))),i.a.createElement("div",{className:"review__data"},(n.length>0&&!this.state.sorted?n:this.props.reviews).map(function(e,t){return t<r&&i.a.createElement("div",{className:"review__body",key:"item-index-".concat(t)},i.a.createElement("div",{className:"review__body_numbers"},i.a.createElement("span",null,e._index+1)),i.a.createElement("div",{className:"review__body_rev"},i.a.createElement("p",null,e.review)))}),i.a.createElement("div",{className:"review__pagination"},i.a.createElement("nav",null,i.a.createElement("ul",{className:"pagination"},this.props.reviews.map(function(t,n){return n<a&&i.a.createElement("li",{className:"page-item",key:"pagination-index-".concat(n)},i.a.createElement("button",{onClick:function(){return e.listView(n)}},n+1))}))))))}}]),t}(n.Component)),_=function(e){var t=e.item.reviews.map(function(e,t){return Object(d.a)({},e,{_index:t})});return i.a.createElement("div",{className:"View"},i.a.createElement("div",{key:e.item.id,className:"View__body"},i.a.createElement("div",{className:"view__body__title"},i.a.createElement("h1",null,e.item.name)),i.a.createElement("div",{className:"view__body__night__control "},i.a.createElement("span",null,"For"),i.a.createElement("input",{type:"number",min:1,onChange:e.changed,value:e.night}),i.a.createElement("span",null,e.night>1?"Nights":"Night")),i.a.createElement("div",{className:"view__body__slider"},i.a.createElement(p,{photos:e.item.pictures})),i.a.createElement("div",{className:"card__info"},i.a.createElement(g,{reviews:t}))))},f=a(8),w=a.n(f),E="http://my-json-server.typicode.com/fly365com/code-challenge",N=function(e){return w.a.get("".concat(E,"/hotelDetails/"),{params:{id:e}}).then(function(e){return e.data}).catch(function(e){return console.error("Response Error ID ===>:",e)})},b=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={data:[{id:37681,name:"Hilton Sharm",totalReviews:1678,totalScore:8.5,pricePerNight:180,photo:"http://picsum.photos/100/100/?image=109"},{id:18671,name:"Sheraton Sharm",totalReviews:78,totalScore:9,pricePerNight:80,photo:"http://picsum.photos/100/100/?image=110"},{id:27861,name:"Grand Hayatt Sharm",totalReviews:678,totalScore:7,pricePerNight:300,photo:"http://picsum.photos/100/100/?image=112"}],itemToView:{},night:1,dataSource:[]},a.handelClick=function(e){N(e).then(function(e){a.setState({itemToView:e[0]})})},a.handelNight=function(e){a.setState({night:e.target.value})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.a.get("".concat(E,"/hotels")).then(function(e){return e.data}).catch(function(e){return console.error("Response Error ===>:",e)}).then(function(t){e.setState(function(){return{dataSource:t}})})}},{key:"render",value:function(){var e=this.state.itemToView;return i.a.createElement("div",{className:"App"},i.a.createElement(h,{data:this.state.data,clicked:this.handelClick,night:this.state.night}),Object.keys(e).length>0&&i.a.createElement(_,{item:this.state.itemToView,changed:this.handelNight,night:this.state.night}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.e1847b42.chunk.js.map